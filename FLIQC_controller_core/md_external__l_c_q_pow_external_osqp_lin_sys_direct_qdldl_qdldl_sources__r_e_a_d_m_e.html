<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLIQC_controller_core: QDLDL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLIQC_controller_core
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">QDLDL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="struct_a.html">A</a> free LDL factorisation routine for quasi-definite linear systems: <code>Ax=b</code></p>
<p><a href="https://travis-ci.org/oxfordcontrol/qdldl"><object type="image/svg+xml" data="https://travis-ci.org/oxfordcontrol/qdldl.svg?branch=master" style="pointer-events: none;">Build Status</object></a> <a href="https://ci.appveyor.com/project/bstellato/qdldl-8q1mv/branch/master"><img src="https://ci.appveyor.com/api/projects/status/ns4br7v6y3i5stai/branch/master?svg=true" alt="Build status" class="inline"/></a> <a href="https://coveralls.io/github/oxfordcontrol/qdldl"><object type="image/svg+xml" data="https://coveralls.io/repos/github/oxfordcontrol/qdldl/badge.svg" style="pointer-events: none;">Coverage Status</object></a></p>
<h1><a class="anchor" id="autotoc_md443"></a>
Interfaces</h1>
<p>You can find a Python interface at <a href="https://github.com/oxfordcontrol/qdldl-python">qdldl-python</a> and a pure Julia implementation at <a href="https://github.com/oxfordcontrol/QDLDL.jl">QDLDL.jl</a>.</p>
<h1><a class="anchor" id="autotoc_md444"></a>
Getting started</h1>
<p>To start using QDLDL, first clone the repository</p>
<div class="fragment"><div class="line">git clone https://github.com/oxfordcontrol/qdldl.git</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md445"></a>
Build</h2>
<p>To build QDLDL, you need to install <a href="https://cmake.org/">cmake</a> and run</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><p>This will generate an <code>out/</code> folder with contents:</p>
<ul>
<li><code>qdldl_example</code>: a <b>code example</b> from <a href="./examples/example.c"><code>examples/example.c</code></a></li>
<li><code>libqdldl</code>: a static and a dynamic versions of the library.</li>
</ul>
<p>You can include an addition option <code>-DUNITTESTS=ON</code> when calling <code>cmake</code>, which will result in an additional executable <code>qdldl_tester</code> being built in the <code>out/</code> folder to test QDLDL on a variety of problems, including those with rank deficient or otherwise ill-formatted inputs.</p>
<p><b>N.B.</b> All files will have file extensions appropriate to your operating system.</p>
<h2><a class="anchor" id="autotoc_md446"></a>
Install/Uninstall</h2>
<p>To install (uninstall) the libraries and headers you can simply run <code>make install</code> (<code>make uninstall</code>) after running the <code>cmake</code> command above.</p>
<h1><a class="anchor" id="autotoc_md447"></a>
Calling QDLDL</h1>
<h2><a class="anchor" id="autotoc_md448"></a>
Main API</h2>
<p>The QDLDL API consists of 5 functions documented in <a href="./include/qdldl.h"><code>include/qdldl.h</code></a>. For more details and a working example see <a href="./examples/example.c"><code>examples/example.c</code></a>.</p>
<p><b>N.B.</b> There is <b>no memory allocation</b> performed in these routines. The user is assumed to have the working vectors already allocated.</p>
<p>Here is a brief summary.</p>
<ul>
<li><code>QDLDL_etree</code>: compute the elimination tree for the quasidefinite matrix factorization &lsquo;<a class="el" href="struct_a.html">A</a> = LDL&rsquo;<code> *</code>QDLDL_factor<code>: return the factors</code>L<code>,</code>D<code>and</code>Dinv = 1./D<code> *</code>QDLDL_solve<code>: solves the linear system</code>LDL'x = b<code> *</code>QDLDL_Lsolve<code>: solves</code>Lx = b<code> *</code>QDLDL_Ltsolve<code>: solves</code>L'x = b`</li>
</ul>
<p>In the above function calls the matrices <code><a class="el" href="struct_a.html">A</a></code> and <code>L</code> are stored in compressed sparse column (CSC) format. The matrix <code><a class="el" href="struct_a.html">A</a></code> is assumed to be symmetric and only the upper triangular portion of <a class="el" href="struct_a.html">A</a> should be passed to the API. The factor <code>L</code> is lower triangular with implicit ones on the diagonal (i.e. the diagonal of L is not stored as part of the CSC formatted data.)</p>
<p>The matrices <code>D</code> and <code>Dinv</code> are both diagonal matrices, with the diagonal values stored in an array.</p>
<p>The matrix input <code><a class="el" href="struct_a.html">A</a></code> should be quasidefinite. The API provides some (non-comprehensive) error checking to protect against non-quasidefinite or non-upper triangular inputs.</p>
<h2><a class="anchor" id="autotoc_md449"></a>
Custom types for integer, floats and booleans</h2>
<p>QDLDL uses its own internal types for integers, floats and booleans (<code>QDLDL_int, QDLDL_float, QDLDL_bool</code>. They can be specified using the cmake options:</p>
<ul>
<li><code>DFLOAT</code> (default false): uses float numbers instead of doubles</li>
<li><code>DLONG</code> (default true): uses long integers for indexing (for large matrices)</li>
</ul>
<p>The <code>QDLDL_bool</code> is internally defined as <code>unsigned char</code>.</p>
<h1><a class="anchor" id="autotoc_md450"></a>
Linking QDLDL</h1>
<h2><a class="anchor" id="autotoc_md451"></a>
Basic Example</h2>
<p><a class="el" href="struct_a.html">A</a> basic example appears in <a href="./examples/example.c"><code>examples/example.c</code></a> and is compiled using cmake and the <code>CMakeLists.txt</code> file in the root folder.</p>
<h2><a class="anchor" id="autotoc_md452"></a>
Including in a cmake project</h2>
<p>You can include QDLDL in a cmake project <code>foo</code> by adding the subdirectory as </p><div class="fragment"><div class="line"># Add project</div>
<div class="line">add_subdirectory(qdldl)</div>
</div><!-- fragment --><p>QDLDL can be linked using a static or dynamic linker </p><div class="fragment"><div class="line"># Link static library</div>
<div class="line">target_link_libraries (foo qdldlstatic)</div>
<div class="line"> </div>
<div class="line"># Link shared library</div>
<div class="line">target_link_libraries (foo qdldl)</div>
</div><!-- fragment --><p>for dynamic linking the shared library should be available in your path.</p>
<p>There is also the option to include QDLDL as an object library in your project. The current <code>CMakeLists.txt</code> file creates an object library called <code>qdldlobject</code>. This can be added to your project by adding it after your sources. For example, when creating a library <code>foo</code> you can add</p>
<div class="fragment"><div class="line">add_library(foo foo.c foo.h $&lt;TARGET_OBJECTS:qdldlobject&gt;)</div>
</div><!-- fragment --><p>for more details see the <a href="https://cmake.org/cmake/help/latest/command/add_library.html#object-libraries">cmake documentation</a>.</p>
<h1><a class="anchor" id="autotoc_md453"></a>
Citing</h1>
<p>If you find this code useful for your research, please cite the following paper available in this <a href="https://arxiv.org/pdf/1711.08013.pdf">preprint</a></p>
<div class="fragment"><div class="line">@article{osqp,</div>
<div class="line">  author = {Stellato, B. and Banjac, G. and Goulart, P. and Bemporad, A. and Boyd, S.},</div>
<div class="line">  title = {{OSQP}: An Operator Splitting Solver for Quadratic Programs},</div>
<div class="line">  journal = {ArXiv e-prints},</div>
<div class="line">  year = {2017},</div>
<div class="line">  month = nov,</div>
<div class="line">  adsnote = {Provided by the SAO/NASA Astrophysics Data System},</div>
<div class="line">  adsurl = {http://adsabs.harvard.edu/abs/2017arXiv171108013S},</div>
<div class="line">  archiveprefix = {arXiv},</div>
<div class="line">  eprint = {1711.08013},</div>
<div class="line">  keywords = {Mathematics - Optimization and Control},</div>
<div class="line">  primaryclass = {math.OC},</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md454"></a>
The algorithm</h1>
<p>The algorithm is an independent implementation of the elimination tree and factorisation procedures outlined in</p>
<blockquote class="doxtable">
<p>T. <a class="el" href="struct_a.html">A</a> Davis. <a href="https://dl.acm.org/citation.cfm?id=1114277">Algorithm 849: a concise sparse cholesky factorization package</a>. ACM Trans. Math. Softw., 31(4):587–591, 2005. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md455"></a>
Credits</h1>
<ul>
<li><a href="http://users.ox.ac.uk/~engs1373/">Paul Goulart</a>: main development</li>
<li><a href="https://stellato.io/">Bartolomeo Stellato</a>: code refactoring and testing</li>
<li><a href="https://people.ee.ethz.ch/~gbanjac/">Goran Banjac</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
